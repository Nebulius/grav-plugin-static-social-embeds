name: Static Social Embeds
version: 0.1.0
description: |
  Embeds social status (like tweets, instagram posts, toots, etc.) in articles without using their embed iframe,
  but rather statically without any dependency to the service.
icon: cloud
author:
  name: Amaury Carrade
  email: amaury@carrade.eu
homepage: https://github.com/Nebulius/grav-plugin-static-social-embeds
keywords: grav, plugin, embed, static, twitter, instagram, mastodon, tweet, toot, integration, post
bugs: https://github.com/Nebulius/grav-plugin-static-social-embeds/issues
docs: https://github.com/Nebulius/grav-plugin-static-social-embeds/blob/develop/README.md
license: MIT

dependencies:
  - shortcode-core

form:
  validation: strict
  fields:
    section_main:
      type: section
      title: Main settings
      underline: true
      fields:
        enabled:
          type: toggle
          label: Plugin status
          highlight: 1
          default: 0
          options:
            1: Enabled
            0: Disabled
          validate:
            type: bool
        built_in_css:
          type: toggle
          label: Use the built-in CSS
          help: If disabled, you or your theme will have to supply CSS for this plugin. You can check out the built-in CSS for inspiration.
          highlight: 1
          default: 1
          options:
            1: Yes
            0: No
          validate:
            type: bool
        built_in_js:
          type: toggle
          label: Use the built-in JS
          help: If disabled, you or your theme will have to supply JS for this plugin. You can check out the built-in JS for inspiration.
          highlight: 1
          default: 1
          options:
            1: Yes
            0: No
          validate:
            type: bool
    section_downloads:
      type: section
      title: Download options
      underline: true
      fields:
        downloaded_content_helps:
          type: columns
          fields:
            downloaded_content_helps_c1:
              type: column
              fields:
                downloaded_content_help_c1:
                  type: spacer
                  text: |
                    If theses options are enabled, images and/or videos from tweets/toots/instagram posts/etc. will be downloaded
                    and served from your site instead of the social network (including avatars). With that, the independence is
                    complete but it requires more disk space (about 3 Mio per image, 15 to 50 Mio per video, and almost nothing for
                    avatars).<br /><br />

                    <em>If this is disabled, Firefox users will not see images by default, as Firefox blocks images and videos loaded
                    from other domains for privacy reasons. They will have to disable the privacy protection by clicking the shield
                    in their address bar.</em>
            downloaded_content_helps_c2:
              type: column
              fields:
                downloaded_content_help:
                  type: spacer
                  text: |
                    Embeds data is (always) stored in <code>cache/static-social-embeds/</code>.<br />
                    You can delete this folder at any time: the content will be re-downloaded on-demand.<br /><br />

                    Images and videos are downloaded (if enabled) to <code>images/static-social-embeds/</code>.<br />
                    <strong>Never delete this folder without deleting the embeds data cache directory too.</strong>
                    If medias are downloaded, stored embed data references directly the local files, so deleting them without
                    deleting the cache will break all images.
        downloaded_content.images:
          type: toggle
          label: Download images locally?
          help: |
            If true, images from tweets/toots/instagram posts/etc. will be downloaded and served from your site instead of
            the social network (including avatars). With that, the independence is complete but it requires more disk space.
          highlight: 1
          default: 1
          options:
            1: Yes
            0: No
          validate:
            type: bool
        downloaded_content.videos:
          type: toggle
          label: Download videos & GIFs locally?
          help: |
            If true, videos and GIFs from tweets/toots/instagram posts/etc. will be downloaded and served from your site instead of
            the social network (including avatars). With that, the independence is complete but it requires more disk space.
          highlight: 1
          default: 1
          options:
            1: Yes
            0: No
          validate:
            type: bool
    section_twitter:
      type: section
      title: Twitter
      underline: true
      fields:
        twitter_columns:
          type: columns
          fields:
            twitter_column_1:
              type: column
              fields:
                twitter_help:
                  type: spacer
                  text: |
                    Embed tweets from <a href="https://twitter.com">Twitter</a> in articles using <code>[tweet="tweetURL"]</code>
                    with blanks lines before and after.<br /><br />
                    <strong>Warning:</strong> as tweets are retrieved using your account permissions, <strong>you can embed
                    tweets from private accounts</strong> as long as you follow them; because the tweets are requested once and
                    stored locally, they will be kept even if you lose access to the private account. <strong>Don't abuse this
                    feature</strong> and before embedding a private tweet, be sure that the author allows you to do so.
                twitter.theme:
                  type: toggle
                  label: Twitter theme
                  help: The embeds theme. This option is only guaranteed to be followed with the built-in CSS.
                  highlight: light
                  default: light
                  options:
                    light: Light
                    dark: Dark
            twitter_column_2:
              type: column
              fields:
                twitter_help_app:
                  type: spacer
                  text: |
                    <strong>To use Twitter embeds, you'll need to register an application.</strong><br /><br />
                    Go to <a href="https://apps.twitter.com/app/new">the Twitter Apps page</a> to create an application.
                    You don't need to provide a callback URL (we never use that).
                    Then, click the <strong>Keys and access tokens</strong> tab and at the bottom of the page, click
                    <strong>Create my Access Token</strong>.
                    Finally, copy the credentials here.
                twitter.consumer_key:
                  type: password
                  label: Consumer Key (API Key)
                twitter.consumer_secret:
                  type: password
                  label: Consumer Secret (API Secret)
                twitter.access_token:
                  type: password
                  label: Access Token
                twitter.access_token_secret:
                  type: password
                  label: Access Token Secret
    section_mastodon:
      type: section
      title: Mastodon
      underline: true
      fields:
        mastodon_help:
          type: spacer
          text: |
            Embed toots from <a href="https://joinmastodon.org">Mastodon</a> in articles using
            <code>[toot="tootURL"]</code> with blanks lines before and after.<br />
            As toots are retrieved using non-authenticated requests, you cannot embed private or direct toots (but
            unlisted and public ones are fine).
        mastodon.theme:
          type: toggle
          label: Mastodon theme
          help: The embeds theme. This option is only guaranteed to be followed with the built-in CSS.
          highlight: light
          default: light
          options:
            light: Light
            dark: Dark
    section_instagram:
      type: section
      title: Instagram
      underline: true
      fields:
        instagram_help:
          type: spacer
          text: |
            Embed <a href="https://www.instagram.com">Instagram</a> posts in articles using
            <code>[instagram="instagramPostURL"]</code> with blanks lines before and after.<br />
            As posts are retrieved using non-authenticated requests, you cannot embed Instagram posts from private
            accounts.
        instagram.theme:
          type: toggle
          label: Instagram theme
          help: The embeds theme. This option is only guaranteed to be followed with the built-in CSS.
          highlight: light
          default: light
          options:
            light: Light
            dark: Dark
